# Contract Extractor API

Сервис получает части договора, извлекает ключевые поля через LLM (Ollama) и при наличии продавца автоматически запускает проверку контрагента (SB Check).

## Настройка и зависимости
- LLM вызывается через внешний сервис Ollama. Адрес и модель задаются переменными окружения:
  - `OLLAMA_HOST` — базовый URL Ollama (по умолчанию `http://ollama:11434`).
  - `MODEL` — имя модели (по умолчанию `qwen3:14b`).
  - `USE_LLM=true|false` — отключить вызовы LLM при необходимости.
- Остальные параметры (температура, таймауты) можно менять через переменные, описанные в `app/core/config.py`.
- Для проверки продавца используется локальный JSON `app/assets/sb_data.json`.

## Эндпоинты
- `GET /healthz` — проверка живости.
- `POST /qa/docx` — принимает DOCX, разбивает его на части, выполняет QA-план из `app/assets/qa_plans/<plan>.json` и добавляет `sb_ai` по найденному `seller`.
- `POST /qa/sections` — принимает уже нарезанные части договора (`{"part_0": "...", ...}` или массив строк), прогоняет QA-план и возвращает результат с блоком `sb_ai`.
